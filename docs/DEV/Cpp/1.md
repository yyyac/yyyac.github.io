# 1-变量和输出

## 变量

```c++
//整形，4字节
int a = 100;
//ll整形，8字节
long long lla = 1000;
//长整型，4字节
long la = 1000;
//短整型，2字节
short a = 10;
//带符号字符整形
signed char sc = 'a';
//无符号字符整形
unsigned char uc = 'b';
//bool类型
bool b = true;
```

## 类型转换

把一种算术类型的值赋给另外一种类型

```c++
bool b = 42; //b为真
int i = b; //i的值为1
i = 3.14; //i的值为3
double pi = i; //pi的值为3.0
unsigned char c = -1; //若char占8bit，则c的值为255，8bit可以表示0-255，若给定值超过此范围，实际的结果是该值对256取模后的余数
signed char c1 = 256; //若char占8bit，c2值是为定义的；复制给带符号类型一个超出其表示范围的值时，则结果是未定义的
//含无符号类型的表达式，当算数表达式中既有无符号整数又有int值时，就会把int值转化为无符号数
unsigned u = 10;
int i = -42;
cout << u + i << endl;
```

## 变量的声明和定义

C++中，变量的初始化和赋值是完全不同的操作。

```c++
int a = 10;
int a = {10};
//函数式声明初始化
int a(10);
//列表初始化
int a{10};
//但如果使用列表初始化且初始值存在信息丢失的风险，编译器将报错
long double id = 3.12421555
int a{id}; //报错，转换未执行，存在信息丢失风险
int a(id); //正确，转换执行，且丢失了部分值
```

用 extern 在头文件中声明，在 cpp 中定义，可以保证变量不被重复包含；若 extern 后面做了赋值操作，则不是声明而是定义。不带 extern，直接类型+变量名都是定义。

```c++
//只声明i
extern int i;
//声明并定义i
extern int i = 10;
//下述都为定义
int i;
int i = 10;
```

## 引用

在 C++中使用引用，可以让我们直接访问和操作另一个变量的内存地址，而无需通过指针的解引用操作。

```c++
int a = 100;
//定义引用b，并且指向a，此时b为a的别名
int &b = a;
```

定义引用后，对其进行的所有操作都是在与之绑定的对象上进行的。

```c++
//为引用赋值，实际上是把值赋给了与引用绑定的对象。
b = 2;
//相当于 int c = a;
int c = b;
```

### 特性

- 必须初始化：引用在创建时必须初始化，它必须与某个已存在的对象绑定。一旦绑定，不可改变。
- 除特殊情况外（const），所有的引用类型都要和与之绑定的对象严格匹配
- 引用必须绑定在某个对象上，没有空引用，也不能和字面值和表达式结果绑定在一起

### 注意事项

- 引用主要用于函数参数和返回值，以及类的成员变量等场景，以提供对原始数据的直接访问，从而提高程序的效率和可读性。
- 引用是可以`const`的，表示不能通过引用修改它所指向对象的值
- 引用在内部实现上通常是通过指针来实现的，但它们在语法和用途上与指针有显著的不同。引用提供了更直观、更安全的访问方式。

### 左值引用和右值引用

C++中，左值和右值是表达式的两种分类，它们决定了表达式的结果在内存中的位置个状态。左值通常指的是具有持久状态的对象，它们具有明确的内存地址，可以被多次赋值。而右值通常是临时的，通常没有内存地址，或者其内存地址在表达式结束后就变为无效。

## 指针

C++中，指针存储的是另一个变量的内存地址，而不是数据本身。通过使用指针，可以直接访问和操作内存中的数据。